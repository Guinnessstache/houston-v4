{"remainingRequest":"/Users/nikitaabrashkin/Sites/houston-v4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nikitaabrashkin/Sites/houston-v4/src/components/NodePricing.vue?vue&type=style&index=0&id=723f0f64&scoped=true&lang=css&","dependencies":[{"path":"/Users/nikitaabrashkin/Sites/houston-v4/src/components/NodePricing.vue","mtime":1576960020927},{"path":"/Users/nikitaabrashkin/Sites/houston-v4/node_modules/css-loader/index.js","mtime":1576674622129},{"path":"/Users/nikitaabrashkin/Sites/houston-v4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1576674627566},{"path":"/Users/nikitaabrashkin/Sites/houston-v4/node_modules/postcss-loader/src/index.js","mtime":1576674624967},{"path":"/Users/nikitaabrashkin/Sites/houston-v4/node_modules/cache-loader/dist/cjs.js","mtime":1576674621227},{"path":"/Users/nikitaabrashkin/Sites/houston-v4/node_modules/vue-loader/lib/index.js","mtime":1576674627565}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.label{\n    font-family: Roboto;\n    font-size: 14px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1;\n    letter-spacing: normal;\n    color: #131415;\n}\n.value-input{\n    margin-bottom: 30px;\n}\n.display-block{\n    display: block;\n}\n.container-fluid{\n    padding: 0 88px;\n}\n.text-left{\n    text-align: left;\n}\na{\n    cursor: pointer;\n}\n.marginleft{\n    margin-left: 20px;\n\n}\n\n\nh2{\n    margin-bottom: 30px;\n}\n.pop {\n    background-color: transparent;\n    border: none;\n}\n.pop:hover{background-color: transparent !important;\n    border: none !important;\n}\n.pop:focus{\n    background-color: transparent !important;\n    border: none !important;\n    color: #ffffff;\n}\n\n\n.pop img {\n    width: 20px;\n}\n.pop img:hover{\n    opacity: 1;\n}\n\n\n.pop2 {\n    background-color: transparent;\n    border: none;\n}\n.pop2:hover{background-color: transparent !important;\n    border: none !important;\n}\n.pop2:focus{\n    background-color: transparent !important;\n    border: none !important;\n    color: #ffffff;\n}\n\n\n.info-i2{\n    position: absolute;\n    top: 7px;\n    width: 18px;\n    margin-left: 6px;\n}\n\n.pop2 img{\n    position: absolute;\n    top: 5px;\n    opacity: 0.5;\n    width: 20px;\n    margin-left: 6px;\n}\n.pop2 img:hover{\n    opacity: 1;\n}\n\n\n.input-p-bot{\n    padding-bottom: 20px;\n}\n\n.no-spin input[type=number]::-webkit-inner-spin-button,\n.no-spin input[type=number]::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\nh2{\n    margin-top: 40px;\n    color: #526173;\n    margin-bottom: 10px;\n}\n\np{\n    font-size: 16px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: 30px;\n    letter-spacing: normal;\n    color: #526173;\n    margin-bottom: 30px;\n}\n\n.config-headline{\n    font-size: 36px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: 1.33;\n    letter-spacing: normal;\n    color: #1a4559;\n}\n",{"version":3,"sources":["NodePricing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NodePricing.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"wrapper\">\n            <el-row>\n                <el-col :span=\"24\" class=\"text-left\">\n                    <h1 class=\"config-headline\">Pricing Configuration</h1>\n                </el-col>\n                <el-col :span=\"9\" class=\"text-left\">\n                    <p class=\"lead-paragraph\">\n                        Since the v4 release of the OriginTrail node, the default pricing has been implemented utilizing the pricing factor (Lambda). Use this page to configure the pricing of your node operating in both DC and DH modes.\n                    </p>\n                </el-col>\n            </el-row>\n            <el-row>\n\n            </el-row>\n                    <el-form ref=\"configuration\" :model=\"config\">\n                        <!--<el-form-item label=\"Trac Price in ETH\">\n                            <el-col :span=\"22\">\n                                <el-input v-model=\"config.blockchain.trac_price_in_eth\" type=\"number\" class=\"no-spin\" ></el-input>\n                            </el-col>\n                            <el-col :span=\"2\">\n                                <el-popover\n                                        placement=\"top-start\"\n                                        title=\"Trac Price in ETH\"\n                                        width=\"250\"\n                                        trigger=\"hover\"\n                                        content=\"Hub address.\"\n                                        class=\"marginleft\">\n                                    <el-button class=\"pop\" slot=\"reference\"><img src=\"~@/assets/id-ic-info-circle.svg\" alt=\"\" class=\"info-i\"></el-button>\n                                </el-popover>\n                            </el-col>\n                        </el-form-item>-->\n                        <el-form-item>\n                            <el-col :span=\"12\" class=\"text-left\">\n                                <p class=\"label\">Value</p>\n                                <el-input-number class=\"value-input\" v-model=\"config.blockchain.price_factor\" @change=\"handleChange\" :min=\"1\"></el-input-number>\n                                <div class=\"display-block text-left\">\n                                    <el-button  type=\"primary\" @click=\"onSubmit\" style=\"margin: 0 auto 20px auto\" >Update configuration</el-button>\n                                </div>\n                                <!--<el-popover\n                                        placement=\"top-start\"\n                                        title=\"Price Factor\"\n                                        width=\"250\"\n                                        trigger=\"hover\"\n                                        content=\"Price Factor\"\n                                        class=\"marginleft\">\n\n                                    <el-button class=\"pop\" slot=\"reference\"><img src=\"~@/assets/id-ic-info-circle.svg\" alt=\"\" class=\"info-i\"></el-button>\n                                </el-popover>-->\n                            </el-col>\n                            <el-col :span=\"12\" class=\"text-left\">\n                                <p>A dataset of 1 MB with a 6-month lifespan: {{ pricing_1mb_180days }} TRAC</p>\n                                <p>A dataset of 10 MB with a 6-month lifespan: {{ pricing_10mb_180days }} TRAC</p>\n                                <p>A dataset of 10 MB with a 24-month lifespan: {{ pricing_10mb_730days }} TRAC</p>\n                            </el-col>\n                        </el-form-item>\n                    </el-form>\n                <el-col :span=\"12\"></el-col>\n                <el-col :span=\"12\"></el-col>\n        </div>\n    </div>\n\n</template>\n\n<script>\nexport default {\n  props: ['nodeConfig', 'system', 'nodeId'],\n  name: 'NodePricing',\n  data() {\n    return {\n      price_factor: 1,\n      pricing: 1,\n      loading: true,\n      ident: '',\n      original_config: null,\n      network: '',\n      config: {\n        identity: '',\n        node_wallet: '',\n        node_private_key: '',\n        node_rpc_ip: '',\n        node_port: '',\n        request_timeout: '',\n        ssl_keypath: '',\n        ssl_certificate_path: '',\n        verbose_logging: '',\n        control_port_enabled: '',\n        control_port: '',\n        control_sock_enabled: '',\n        control_sock: '',\n        onion_enabled: '',\n        test_network: '',\n        ssl_authority_paths: '',\n        network_bootstrap_nodes: '',\n        solve_hashes: '',\n        remote_access_whitelist: '',\n        node_rpc_port: '',\n        send_logs_to_origintrail: '',\n        max_token_amount_per_dh: '',\n        remote_control_enabled: true,\n        node_remote_control_port: '',\n        dh_maximum_dataset_filesize_in_mb: '',\n        network: {\n          hostname: '',\n          id: '',\n          bootstraps: [''],\n          remoteWhitelist: [''],\n          solutionDifficulty: '',\n          identityDifficulty: '',\n        },\n        blockchain: {\n          blockchain_title: '',\n          network_id: '',\n          gas_limit: '',\n          gas_price: '',\n          hub_contract_address: '',\n          rpc_server_url: '',\n          plugins: [''],\n          trac_price_in_eth: '',\n          price_factor: '',\n        },\n        dc_holding_time_in_minutes: '',\n        dc_token_amount_per_holder: '',\n        dc_litigation_interval_in_minutes: '',\n        dh_max_holding_time_in_minutes: '',\n        dh_min_token_price: '',\n        dh_min_litigation_interval_in_minutes: '',\n        dc_choose_time: 600000,\n        requireApproval: false,\n        litigationEnabled: true,\n        commandExecutorVerboseLoggingEnabled: false,\n      },\n      node_id: '',\n    };\n  },\n  mounted() {\n    this.config = this.nodeConfig;\n    this.systemData = this.system;\n    this.pricing_1mb_180days = 0;\n    this.pricing_10mb_180days = 0;\n    this.pricing_10mb_730days = 0;\n\n    switch (this.systemData.info.environment.toLowerCase()) {\n      case 'mariner':\n        this.network = 'Mainnet';\n        break;\n      case 'production':\n        this.network = 'Testnet';\n        break;\n      default:\n        this.network = 'Mainnet';\n    }\n\n    window.EventBus.$on('node_id', (data) => {\n      this.node_id = data;\n    });\n  },\n  sockets: {\n    updateComplete() {\n      console.log('updated');\n    },\n  },\n  methods: {\n    onSubmit() {\n      // Fix types.\n      this.config.node_port = Number(this.config.node_port);\n      this.config.node_rpc_port = Number(this.config.node_rpc_port);\n      this.config.node_remote_control_port = Number(this.config.node_remote_control_port);\n      this.config.request_timeout = Number(this.config.request_timeout);\n      this.config.dc_holding_time_in_minutes = Number(this.config.dc_holding_time_in_minutes);\n      /* this.config.dc_litigation_interval_in_minutes = Number(this.config.dc_litigation_interval_in_minutes);\n      this.config.dh_max_holding_time_in_minutes = Number(this.config.dh_max_holding_time_in_minutes); */\n      this.config.dc_choose_time = Number(this.config.dc_choose_time);\n      this.config.remote_control_enabled = Boolean(this.config.remote_control_enabled);\n      this.config.verbose_logging = Boolean(this.config.verbose_logging);\n      this.config.control_port_enabled = Boolean(this.config.control_port_enabled);\n      this.config.send_logs_to_origintrail = Boolean(this.config.send_logs_to_origintrail);\n      this.$socket.emit('config-update', this.config);\n    },\n    handleChange(value) {\n      // this.pricing = calculatePrice(config.blockchain.trac_price_in_eth, config.blockchain.price_factor, 180, 1);\n      this.pricing_1mb_180days =  Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor * Math.sqrt(2 * 180 * 1 ));\n      this.pricing_10mb_180days = Math.round( 2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor * Math.sqrt(2 * 180 * 10 ));\n      this.pricing_10mb_730days =  Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor * Math.sqrt(2 * 730 * 10 ));\n      console.log(value);\n    },\n    calculatePrice(tracePrice, priceFactor, timeSpan, datasetSize) {\n      // eslint-disable-next-line max-len\n      return 2 * (0.00075 / tracePrice) + priceFactor * sqrt(2 * datasetSize * timeSpan / 1440);\n    },\n  },\n  addInput() {\n    this.config.network.remoteWhitelist.push('');\n  },\n  removeInput(item) {\n    if (this.config.network.remoteWhitelist.length === 1) {\n      return;\n    }\n    const index = this.config.network.remoteWhitelist.indexOf(item);\n    if (index !== -1) {\n      this.config.network.remoteWhitelist.splice(index, 1);\n    }\n  },\n  addInputNetwork() {\n    this.config.network.bootstraps.push('');\n  },\n  removeInputNetwork(item) {\n    if (this.config.network.bootstraps.length === 1) {\n      return;\n    }\n    const index = this.config.network.bootstraps.indexOf(item);\n    if (index !== -1) {\n      this.config.network.bootstraps.splice(index, 1);\n    }\n  },\n};\n</script>\n\n<style scoped>\n\n    .label{\n        font-family: Roboto;\n        font-size: 14px;\n        font-weight: normal;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: 1;\n        letter-spacing: normal;\n        color: #131415;\n    }\n    .value-input{\n        margin-bottom: 30px;\n    }\n    .display-block{\n        display: block;\n    }\n    .container-fluid{\n        padding: 0 88px;\n    }\n    .text-left{\n        text-align: left;\n    }\n    a{\n        cursor: pointer;\n    }\n    .marginleft{\n        margin-left: 20px;\n\n    }\n\n\n    h2{\n        margin-bottom: 30px;\n    }\n    .pop {\n        background-color: transparent;\n        border: none;\n    }\n    .pop:hover{background-color: transparent !important;\n        border: none !important;\n    }\n    .pop:focus{\n        background-color: transparent !important;\n        border: none !important;\n        color: #ffffff;\n    }\n\n\n    .pop img {\n        width: 20px;\n    }\n    .pop img:hover{\n        opacity: 1;\n    }\n\n\n    .pop2 {\n        background-color: transparent;\n        border: none;\n    }\n    .pop2:hover{background-color: transparent !important;\n        border: none !important;\n    }\n    .pop2:focus{\n        background-color: transparent !important;\n        border: none !important;\n        color: #ffffff;\n    }\n\n\n    .info-i2{\n        position: absolute;\n        top: 7px;\n        width: 18px;\n        margin-left: 6px;\n    }\n\n    .pop2 img{\n        position: absolute;\n        top: 5px;\n        opacity: 0.5;\n        width: 20px;\n        margin-left: 6px;\n    }\n    .pop2 img:hover{\n        opacity: 1;\n    }\n\n\n    .input-p-bot{\n        padding-bottom: 20px;\n    }\n\n    .no-spin input[type=number]::-webkit-inner-spin-button,\n    .no-spin input[type=number]::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n\n    h2{\n        margin-top: 40px;\n        color: #526173;\n        margin-bottom: 10px;\n    }\n\n    p{\n        font-size: 16px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: 30px;\n        letter-spacing: normal;\n        color: #526173;\n        margin-bottom: 30px;\n    }\n\n    .config-headline{\n        font-size: 36px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: 1.33;\n        letter-spacing: normal;\n        color: #1a4559;\n    }\n</style>\n"]}]}