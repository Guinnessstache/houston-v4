{"remainingRequest":"/Users/davidaleksic/Sites/houston-v4/node_modules/babel-loader/lib/index.js!/Users/davidaleksic/Sites/houston-v4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/davidaleksic/Sites/houston-v4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davidaleksic/Sites/houston-v4/src/components/NodePricing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/davidaleksic/Sites/houston-v4/src/components/NodePricing.vue","mtime":1577116137887},{"path":"/Users/davidaleksic/Sites/houston-v4/node_modules/cache-loader/dist/cjs.js","mtime":1577116124352},{"path":"/Users/davidaleksic/Sites/houston-v4/node_modules/babel-loader/lib/index.js","mtime":1577116124172},{"path":"/Users/davidaleksic/Sites/houston-v4/node_modules/cache-loader/dist/cjs.js","mtime":1577116124352},{"path":"/Users/davidaleksic/Sites/houston-v4/node_modules/vue-loader/lib/index.js","mtime":1577116128818}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: ['nodeConfig', 'system', 'nodeId'],\n  name: 'NodePricing',\n  data: function data() {\n    return {\n      updateDcButton: false,\n      updateDhButton: false,\n      price_factor: 1,\n      pricing: 1,\n      loading: true,\n      ident: '',\n      original_config: null,\n      network: '',\n      config: {\n        identity: '',\n        node_wallet: '',\n        node_private_key: '',\n        node_rpc_ip: '',\n        node_port: '',\n        request_timeout: '',\n        ssl_keypath: '',\n        ssl_certificate_path: '',\n        verbose_logging: '',\n        control_port_enabled: '',\n        control_port: '',\n        control_sock_enabled: '',\n        control_sock: '',\n        onion_enabled: '',\n        test_network: '',\n        ssl_authority_paths: '',\n        network_bootstrap_nodes: '',\n        solve_hashes: '',\n        remote_access_whitelist: '',\n        node_rpc_port: '',\n        send_logs_to_origintrail: '',\n        max_token_amount_per_dh: '',\n        remote_control_enabled: true,\n        node_remote_control_port: '',\n        dh_maximum_dataset_filesize_in_mb: '',\n        network: {\n          hostname: '',\n          id: '',\n          bootstraps: [''],\n          remoteWhitelist: [''],\n          solutionDifficulty: '',\n          identityDifficulty: ''\n        },\n        blockchain: {\n          blockchain_title: '',\n          network_id: '',\n          gas_limit: '',\n          gas_price: '',\n          hub_contract_address: '',\n          rpc_server_url: '',\n          plugins: [''],\n          trac_price_in_eth: '',\n          price_factor_dh: '',\n          price_factor_dc: ''\n        },\n        dc_holding_time_in_minutes: '',\n        dc_token_amount_per_holder: '',\n        dc_litigation_interval_in_minutes: '',\n        dh_max_holding_time_in_minutes: '',\n        dh_min_token_price: '',\n        dh_min_litigation_interval_in_minutes: '',\n        dc_choose_time: 600000,\n        requireApproval: false,\n        litigationEnabled: true,\n        commandExecutorVerboseLoggingEnabled: false\n      },\n      node_id: '',\n      pricing_1mb_180days: 0,\n      pricing_10mb_180days: 0,\n      pricing_10mb_730days: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.config = this.nodeConfig;\n    this.systemData = this.system;\n\n    switch (this.systemData.info.environment.toLowerCase()) {\n      case 'mariner':\n        this.network = 'Mainnet';\n        break;\n\n      case 'production':\n        this.network = 'Testnet';\n        break;\n\n      default:\n        this.network = 'Mainnet';\n    }\n\n    window.EventBus.$on('node_id', function (data) {\n      _this.node_id = data;\n    });\n  },\n  sockets: {\n    updateComplete: function updateComplete() {\n      console.log('updated');\n    }\n  },\n  methods: {\n    onSubmit: function onSubmit() {\n      // Fix types.\n      this.config.node_port = Number(this.config.node_port);\n      this.config.node_rpc_port = Number(this.config.node_rpc_port);\n      this.config.node_remote_control_port = Number(this.config.node_remote_control_port);\n      this.config.request_timeout = Number(this.config.request_timeout);\n      this.config.dc_holding_time_in_minutes = Number(this.config.dc_holding_time_in_minutes);\n      /* this.config.dc_litigation_interval_in_minutes = Number(this.config.dc_litigation_interval_in_minutes);\n      this.config.dh_max_holding_time_in_minutes = Number(this.config.dh_max_holding_time_in_minutes); */\n\n      this.config.dc_choose_time = Number(this.config.dc_choose_time);\n      this.config.remote_control_enabled = Boolean(this.config.remote_control_enabled);\n      this.config.verbose_logging = Boolean(this.config.verbose_logging);\n      this.config.control_port_enabled = Boolean(this.config.control_port_enabled);\n      this.config.send_logs_to_origintrail = Boolean(this.config.send_logs_to_origintrail);\n      this.$socket.emit('config-update', this.config);\n    },\n    handleChangeDh: function handleChangeDh(value) {\n      // this.pricing = calculatePrice(config.blockchain.trac_price_in_eth, config.blockchain.price_factor, 180, 1);\n      if (value == 0) {\n        this.updateDcButton = false;\n        this.updateDhButton = true;\n        this.pricing_01mb_180days = 0;\n        this.pricing_1mb_180days = 0;\n        this.pricing_10mb_180days = 0;\n        this.pricing_10mb_730days = 0;\n      } else {\n        this.updateDhButton = false;\n        this.updateDcButton = true;\n        this.pricing_01mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 0.1));\n        this.pricing_1mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 1));\n        this.pricing_10mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 10));\n        this.pricing_10mb_730days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 730 * 10));\n      }\n    },\n    handleChangeDc: function handleChangeDc(value) {\n      // this.pricing = calculatePrice(config.blockchain.trac_price_in_eth, config.blockchain.price_factor, 180, 1);\n      if (value == 0) {\n        this.updateDcButton = true;\n        this.updateDhButton = false;\n        this.pricing_01mb_180days = 0;\n        this.pricing_1mb_180days = 0;\n        this.pricing_10mb_180days = 0;\n        this.pricing_10mb_730days = 0;\n      } else {\n        this.updateDhButton = true;\n        this.updateDcButton = false;\n        this.pricing_01mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 0.1));\n        this.pricing_1mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dc * Math.sqrt(2 * 180 * 1));\n        this.pricing_10mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dc * Math.sqrt(2 * 180 * 10));\n        this.pricing_10mb_730days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dc * Math.sqrt(2 * 730 * 10));\n      }\n    },\n    calculatePrice: function calculatePrice(tracePrice, priceFactor, timeSpan, datasetSize) {\n      // eslint-disable-next-line max-len\n      return 2 * (0.00075 / tracePrice) + priceFactor * sqrt(2 * datasetSize * timeSpan / 1440);\n    },\n    checkDhPriceFactor: function checkDhPriceFactor() {\n      return this.config.blockchain.price_factor_dh == 0 || this.config.blockchain.price_factor_dc >= 0;\n    },\n    checkDcPriceFactor: function checkDcPriceFactor() {\n      return this.config.blockchain.price_factor_dc == 0 || this.config.blockchain.price_factor_dh >= 0;\n    },\n    addInput: function addInput() {\n      this.config.network.remoteWhitelist.push('');\n    },\n    removeInput: function removeInput(item) {\n      if (this.config.network.remoteWhitelist.length === 1) {\n        return;\n      }\n\n      var index = this.config.network.remoteWhitelist.indexOf(item);\n\n      if (index !== -1) {\n        this.config.network.remoteWhitelist.splice(index, 1);\n      }\n    },\n    addInputNetwork: function addInputNetwork() {\n      this.config.network.bootstraps.push('');\n    },\n    removeInputNetwork: function removeInputNetwork(item) {\n      if (this.config.network.bootstraps.length === 1) {\n        return;\n      }\n\n      var index = this.config.network.bootstraps.indexOf(item);\n\n      if (index !== -1) {\n        this.config.network.bootstraps.splice(index, 1);\n      }\n    }\n  }\n};",{"version":3,"sources":["NodePricing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,YAAA,EAAA,QAAA,EAAA,QAAA,CADA;AAEA,EAAA,IAAA,EAAA,aAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,CAHA;AAIA,MAAA,OAAA,EAAA,CAJA;AAKA,MAAA,OAAA,EAAA,IALA;AAMA,MAAA,KAAA,EAAA,EANA;AAOA,MAAA,eAAA,EAAA,IAPA;AAQA,MAAA,OAAA,EAAA,EARA;AASA,MAAA,MAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,EAFA;AAGA,QAAA,gBAAA,EAAA,EAHA;AAIA,QAAA,WAAA,EAAA,EAJA;AAKA,QAAA,SAAA,EAAA,EALA;AAMA,QAAA,eAAA,EAAA,EANA;AAOA,QAAA,WAAA,EAAA,EAPA;AAQA,QAAA,oBAAA,EAAA,EARA;AASA,QAAA,eAAA,EAAA,EATA;AAUA,QAAA,oBAAA,EAAA,EAVA;AAWA,QAAA,YAAA,EAAA,EAXA;AAYA,QAAA,oBAAA,EAAA,EAZA;AAaA,QAAA,YAAA,EAAA,EAbA;AAcA,QAAA,aAAA,EAAA,EAdA;AAeA,QAAA,YAAA,EAAA,EAfA;AAgBA,QAAA,mBAAA,EAAA,EAhBA;AAiBA,QAAA,uBAAA,EAAA,EAjBA;AAkBA,QAAA,YAAA,EAAA,EAlBA;AAmBA,QAAA,uBAAA,EAAA,EAnBA;AAoBA,QAAA,aAAA,EAAA,EApBA;AAqBA,QAAA,wBAAA,EAAA,EArBA;AAsBA,QAAA,uBAAA,EAAA,EAtBA;AAuBA,QAAA,sBAAA,EAAA,IAvBA;AAwBA,QAAA,wBAAA,EAAA,EAxBA;AAyBA,QAAA,iCAAA,EAAA,EAzBA;AA0BA,QAAA,OAAA,EAAA;AACA,UAAA,QAAA,EAAA,EADA;AAEA,UAAA,EAAA,EAAA,EAFA;AAGA,UAAA,UAAA,EAAA,CAAA,EAAA,CAHA;AAIA,UAAA,eAAA,EAAA,CAAA,EAAA,CAJA;AAKA,UAAA,kBAAA,EAAA,EALA;AAMA,UAAA,kBAAA,EAAA;AANA,SA1BA;AAkCA,QAAA,UAAA,EAAA;AACA,UAAA,gBAAA,EAAA,EADA;AAEA,UAAA,UAAA,EAAA,EAFA;AAGA,UAAA,SAAA,EAAA,EAHA;AAIA,UAAA,SAAA,EAAA,EAJA;AAKA,UAAA,oBAAA,EAAA,EALA;AAMA,UAAA,cAAA,EAAA,EANA;AAOA,UAAA,OAAA,EAAA,CAAA,EAAA,CAPA;AAQA,UAAA,iBAAA,EAAA,EARA;AASA,UAAA,eAAA,EAAA,EATA;AAUA,UAAA,eAAA,EAAA;AAVA,SAlCA;AA8CA,QAAA,0BAAA,EAAA,EA9CA;AA+CA,QAAA,0BAAA,EAAA,EA/CA;AAgDA,QAAA,iCAAA,EAAA,EAhDA;AAiDA,QAAA,8BAAA,EAAA,EAjDA;AAkDA,QAAA,kBAAA,EAAA,EAlDA;AAmDA,QAAA,qCAAA,EAAA,EAnDA;AAoDA,QAAA,cAAA,EAAA,MApDA;AAqDA,QAAA,eAAA,EAAA,KArDA;AAsDA,QAAA,iBAAA,EAAA,IAtDA;AAuDA,QAAA,oCAAA,EAAA;AAvDA,OATA;AAkEA,MAAA,OAAA,EAAA,EAlEA;AAmEA,MAAA,mBAAA,EAAA,CAnEA;AAoEA,MAAA,oBAAA,EAAA,CApEA;AAqEA,MAAA,oBAAA,EAAA;AArEA,KAAA;AAuEA,GA3EA;AA4EA,EAAA,OA5EA,qBA4EA;AAAA;;AACA,SAAA,MAAA,GAAA,KAAA,UAAA;AACA,SAAA,UAAA,GAAA,KAAA,MAAA;;AAGA,YAAA,KAAA,UAAA,CAAA,IAAA,CAAA,WAAA,CAAA,WAAA,EAAA;AACA,WAAA,SAAA;AACA,aAAA,OAAA,GAAA,SAAA;AACA;;AACA,WAAA,YAAA;AACA,aAAA,OAAA,GAAA,SAAA;AACA;;AACA;AACA,aAAA,OAAA,GAAA,SAAA;AARA;;AAWA,IAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,SAAA,EAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,KAFA;AAGA,GA/FA;AAgGA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA;AAHA,GAhGA;AAqGA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA;AACA,WAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,KAAA,MAAA,CAAA,SAAA,CAAA;AACA,WAAA,MAAA,CAAA,aAAA,GAAA,MAAA,CAAA,KAAA,MAAA,CAAA,aAAA,CAAA;AACA,WAAA,MAAA,CAAA,wBAAA,GAAA,MAAA,CAAA,KAAA,MAAA,CAAA,wBAAA,CAAA;AACA,WAAA,MAAA,CAAA,eAAA,GAAA,MAAA,CAAA,KAAA,MAAA,CAAA,eAAA,CAAA;AACA,WAAA,MAAA,CAAA,0BAAA,GAAA,MAAA,CAAA,KAAA,MAAA,CAAA,0BAAA,CAAA;AACA;;;AAEA,WAAA,MAAA,CAAA,cAAA,GAAA,MAAA,CAAA,KAAA,MAAA,CAAA,cAAA,CAAA;AACA,WAAA,MAAA,CAAA,sBAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,sBAAA,CAAA;AACA,WAAA,MAAA,CAAA,eAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,eAAA,CAAA;AACA,WAAA,MAAA,CAAA,oBAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,oBAAA,CAAA;AACA,WAAA,MAAA,CAAA,wBAAA,GAAA,OAAA,CAAA,KAAA,MAAA,CAAA,wBAAA,CAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,eAAA,EAAA,KAAA,MAAA;AACA,KAhBA;AAiBA,IAAA,cAjBA,0BAiBA,KAjBA,EAiBA;AACA;AAEA,UAAA,KAAA,IAAA,CAAA,EAAA;AACA,aAAA,cAAA,GAAA,KAAA;AACA,aAAA,cAAA,GAAA,IAAA;AACA,aAAA,oBAAA,GAAA,CAAA;AACA,aAAA,mBAAA,GAAA,CAAA;AACA,aAAA,oBAAA,GAAA,CAAA;AACA,aAAA,oBAAA,GAAA,CAAA;AACA,OAPA,MAOA;AACA,aAAA,cAAA,GAAA,KAAA;AACA,aAAA,cAAA,GAAA,IAAA;AACA,aAAA,oBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,GAAA,CAAA,CAAA;AACA,aAAA,mBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AACA,aAAA,oBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA,CAAA,CAAA;AACA,aAAA,oBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA,CAAA,CAAA;AACA;AACA,KAnCA;AAoCA,IAAA,cApCA,0BAoCA,KApCA,EAoCA;AACA;AAEA,UAAA,KAAA,IAAA,CAAA,EAAA;AACA,aAAA,cAAA,GAAA,IAAA;AACA,aAAA,cAAA,GAAA,KAAA;AACA,aAAA,oBAAA,GAAA,CAAA;AACA,aAAA,mBAAA,GAAA,CAAA;AACA,aAAA,oBAAA,GAAA,CAAA;AACA,aAAA,oBAAA,GAAA,CAAA;AACA,OAPA,MAOA;AACA,aAAA,cAAA,GAAA,IAAA;AACA,aAAA,cAAA,GAAA,KAAA;AACA,aAAA,oBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,GAAA,CAAA,CAAA;AACA,aAAA,mBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AACA,aAAA,oBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA,CAAA,CAAA;AACA,aAAA,oBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,KAAA,MAAA,CAAA,UAAA,CAAA,iBAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA,CAAA,CAAA;AACA;AAGA,KAxDA;AAyDA,IAAA,cAzDA,0BAyDA,UAzDA,EAyDA,WAzDA,EAyDA,QAzDA,EAyDA,WAzDA,EAyDA;AACA;AACA,aAAA,KAAA,UAAA,UAAA,IAAA,WAAA,GAAA,IAAA,CAAA,IAAA,WAAA,GAAA,QAAA,GAAA,IAAA,CAAA;AACA,KA5DA;AA6DA,IAAA,kBA7DA,gCA6DA;AACA,aAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,IAAA,CAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,IAAA,CAAA;AACA,KA/DA;AAgEA,IAAA,kBAhEA,gCAgEA;AACA,aAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,IAAA,CAAA,IAAA,KAAA,MAAA,CAAA,UAAA,CAAA,eAAA,IAAA,CAAA;AACA,KAlEA;AAmEA,IAAA,QAnEA,sBAmEA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,IAAA,CAAA,EAAA;AACA,KArEA;AAsEA,IAAA,WAtEA,uBAsEA,IAtEA,EAsEA;AACA,UAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA;AACA;;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,IAAA,CAAA;;AACA,UAAA,KAAA,KAAA,CAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AACA,KA9EA;AA+EA,IAAA,eA/EA,6BA+EA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,IAAA,CAAA,EAAA;AACA,KAjFA;AAkFA,IAAA,kBAlFA,8BAkFA,IAlFA,EAkFA;AACA,UAAA,KAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA;AACA;;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CAAA,IAAA,CAAA;;AACA,UAAA,KAAA,KAAA,CAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AACA;AA1FA;AArGA,CAAA","sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"wrapper\">\n            <el-row>\n                <el-col :span=\"24\" class=\"text-left\">\n                    <h1 class=\"section-headline\">Pricing Configuration</h1>\n                </el-col>\n                <el-col :span=\"9\" class=\"text-left\">\n                    <p class=\"lead-paragraph\">\n                        Since the v4 release of the OriginTrail node, the default pricing has been implemented utilizing\n                        the pricing factor (Lambda). Use this page to configure the pricing of your node operating in\n                        both DC and DH modes.\n                    </p>\n                </el-col>\n            </el-row>\n            <el-row class=\"splitter\">\n                <el-form ref=\"configuration\" :model=\"config\">\n                    <!--<el-form-item label=\"Trac Price in ETH\">\n                        <el-col :span=\"22\">\n                            <el-input v-model=\"config.blockchain.trac_price_in_eth\" type=\"number\" class=\"no-spin\" ></el-input>\n                        </el-col>\n                        <el-col :span=\"2\">\n                            <el-popover\n                                    placement=\"top-start\"\n                                    title=\"Trac Price in ETH\"\n                                    width=\"250\"\n                                    trigger=\"hover\"\n                                    content=\"Hub address.\"\n                                    class=\"marginleft\">\n                                <el-button class=\"pop\" slot=\"reference\"><img src=\"~@/assets/id-ic-info-circle.svg\" alt=\"\" class=\"info-i\"></el-button>\n                            </el-popover>\n                        </el-col>\n                    </el-form-item>-->\n                    <el-form-item>\n                        <!-- PRICE FOR DATA HOLDER -->\n                        <el-col :span=\"12\" class=\"text-left\">\n                            <div class=\"white-card\">\n                                <h3 class=\"card-headline\">\n                                    Data Holder Price Factor (λ)\n                                </h3>\n                                <p class=\"label\">Value</p>\n                                <el-input-number class=\"value-input\" v-model=\"config.blockchain.price_factor_dh\"\n                                                 :disabled=\"config.blockchain.price_factor_dc > 0\"\n                                                 @change=\"handleChangeDh\" :min=\"0\"></el-input-number>\n                                <div class=\"display-block text-left\">\n                                    <el-button type=\"primary\" @click=\"onSubmit\" class=\"houston-btn\"\n                                               style=\"margin: 0 auto 20px auto\" :disabled=\"updateDhButton\">UPDATE\n                                        NODE LAMBDA FACTOR\n                                    </el-button>\n                                </div>\n                                <!--<el-popover\n                                    placement=\"top-start\"\n                                    title=\"Price Factor\"\n                                    width=\"250\"\n                                    trigger=\"hover\"\n                                    content=\"Price Factor\"\n                                    class=\"marginleft\">\n\n                                <el-button class=\"pop\" slot=\"reference\"><img src=\"~@/assets/id-ic-info-circle.svg\" alt=\"\" class=\"info-i\"></el-button>\n                            </el-popover>-->\n                            </div>\n                        </el-col>\n                        <el-col :span=\"12\" class=\"text-left add-left-padding\">\n                            <h3 class=\"card-headline\">\n                                The estimated amount of TRAC your node would require as a DH and a DC for jobs based on\n                                current Lambda:\n                            </h3>\n                            <ul>\n                                <li>A dataset of 0.1 MB with a 6-month lifespan: <span class=\"price-in-trac\">{{ pricing_01mb_180days }}</span>\n                                    TRAC\n                                <li>A dataset of 1 MB with a 6-month lifespan: <span class=\"price-in-trac\">{{ pricing_1mb_180days }}</span>\n                                    TRAC\n                                </li>\n                                <li>A dataset of 10 MB with a 6-month lifespan: <span class=\"price-in-trac\">{{ pricing_10mb_180days }}</span>\n                                    TRAC\n                                </li>\n                                <li>A dataset of 10 MB with a 24-month lifespan: <span class=\"price-in-trac\">{{ pricing_10mb_730days }}</span>\n                                    TRAC\n                                </li>\n                            </ul>\n                        </el-col>\n                    </el-form-item>\n                </el-form>\n            </el-row>\n\n            <el-row>\n                <el-form ref=\"configuration\" :model=\"config\">\n                    <!--<el-form-item label=\"Trac Price in ETH\">\n                        <el-col :span=\"22\">\n                            <el-input v-model=\"config.blockchain.trac_price_in_eth\" type=\"number\" class=\"no-spin\" ></el-input>\n                        </el-col>\n                        <el-col :span=\"2\">\n                            <el-popover\n                                    placement=\"top-start\"\n                                    title=\"Trac Price in ETH\"\n                                    width=\"250\"\n                                    trigger=\"hover\"\n                                    content=\"Hub address.\"\n                                    class=\"marginleft\">\n                                <el-button class=\"pop\" slot=\"reference\"><img src=\"~@/assets/id-ic-info-circle.svg\" alt=\"\" class=\"info-i\"></el-button>\n                            </el-popover>\n                        </el-col>\n                    </el-form-item>-->\n                    <el-form-item>\n                        <!-- PRICE FOR DATA CREATOR -->\n                        <el-col :span=\"12\" class=\"text-left\">\n                            <div class=\"white-card\">\n                                <h3 class=\"card-headline\">\n                                    Data Creator Price Factor (λ)\n                                </h3>\n                                <p class=\"label\">Value</p>\n                                <el-input-number class=\"value-input\" v-model=\"config.blockchain.price_factor_dc\"\n                                                 :disabled=\"config.blockchain.price_factor_dh > 0\"\n                                                 @change=\"handleChangeDc\" :min=\"0\"></el-input-number>\n                                <div class=\"display-block text-left\">\n                                    <el-button type=\"primary\" @click=\"onSubmit\" class=\"houston-btn\"\n                                               :disabled=\"updateDcButton\"\n                                               style=\"margin: 0 auto 20px auto\">UPDATE NODE LAMBDA FACTOR\n                                    </el-button>\n                                </div>\n                                <!--<el-popover\n                                    placement=\"top-start\"\n                                    title=\"Price Factor\"\n                                    width=\"250\"\n                                    trigger=\"hover\"\n                                    content=\"Price Factor\"\n                                    class=\"marginleft\">\n\n                                <el-button class=\"pop\" slot=\"reference\"><img src=\"~@/assets/id-ic-info-circle.svg\" alt=\"\" class=\"info-i\"></el-button>\n                            </el-popover>-->\n                            </div>\n                        </el-col>\n                        <el-col :span=\"12\" class=\"text-left add-left-padding\">\n                            <h3 class=\"card-headline\">\n                                The estimated amount of TRAC your node would require as a DH and a DC for jobs based on\n                                current Lambda:\n                            </h3>\n                            <p class=\"small-p\">Since the ODN services market is open, each node is required to configure\n                                it’s own service price. The lambda factor is a user friendly way to setup the pricing\n                                configuration for your node data holder service. An overly optimistic Lambda (high cost)\n                                could cause your node to be outpriced by other ODN nodes and not receive enough jobs to\n                                be profitable, while a Lambda set too low might mean an insufficient ROI.\n                                <br>The pricing formula (shown below), which utilizes Lambda, is designed to encompass:\n                            </p>\n                            <ul>\n                                <li>The data lifespan and dataset size components;</li>\n                                <li>The estimated blockchain withdrawal cost;</li>\n                                <li>The estimation of current average network Lambda is in the Houston roadmap and\n                                    planned for the next releases.\n                                </li>\n                            </ul>\n                            <img class=\"formula-img\" src=\"../assets/cubes-group@2x.png\" height=\"auto\" width=\"100%\"/>\n                        </el-col>\n                    </el-form-item>\n                </el-form>\n            </el-row>\n\n\n        </div>\n    </div>\n\n</template>\n\n<script>\n  export default {\n    props: ['nodeConfig', 'system', 'nodeId'],\n    name: 'NodePricing',\n    data() {\n      return {\n        updateDcButton:false,\n        updateDhButton:false,\n        price_factor: 1,\n        pricing: 1,\n        loading: true,\n        ident: '',\n        original_config: null,\n        network: '',\n        config: {\n          identity: '',\n          node_wallet: '',\n          node_private_key: '',\n          node_rpc_ip: '',\n          node_port: '',\n          request_timeout: '',\n          ssl_keypath: '',\n          ssl_certificate_path: '',\n          verbose_logging: '',\n          control_port_enabled: '',\n          control_port: '',\n          control_sock_enabled: '',\n          control_sock: '',\n          onion_enabled: '',\n          test_network: '',\n          ssl_authority_paths: '',\n          network_bootstrap_nodes: '',\n          solve_hashes: '',\n          remote_access_whitelist: '',\n          node_rpc_port: '',\n          send_logs_to_origintrail: '',\n          max_token_amount_per_dh: '',\n          remote_control_enabled: true,\n          node_remote_control_port: '',\n          dh_maximum_dataset_filesize_in_mb: '',\n          network: {\n            hostname: '',\n            id: '',\n            bootstraps: [''],\n            remoteWhitelist: [''],\n            solutionDifficulty: '',\n            identityDifficulty: '',\n          },\n          blockchain: {\n            blockchain_title: '',\n            network_id: '',\n            gas_limit: '',\n            gas_price: '',\n            hub_contract_address: '',\n            rpc_server_url: '',\n            plugins: [''],\n            trac_price_in_eth: '',\n            price_factor_dh: '',\n            price_factor_dc: ''\n          },\n          dc_holding_time_in_minutes: '',\n          dc_token_amount_per_holder: '',\n          dc_litigation_interval_in_minutes: '',\n          dh_max_holding_time_in_minutes: '',\n          dh_min_token_price: '',\n          dh_min_litigation_interval_in_minutes: '',\n          dc_choose_time: 600000,\n          requireApproval: false,\n          litigationEnabled: true,\n          commandExecutorVerboseLoggingEnabled: false,\n        },\n        node_id: '',\n        pricing_1mb_180days : 0,\n        pricing_10mb_180days :0,\n        pricing_10mb_730days :0\n      };\n    },\n    mounted() {\n      this.config = this.nodeConfig;\n      this.systemData = this.system;\n\n\n      switch (this.systemData.info.environment.toLowerCase()) {\n        case 'mariner':\n          this.network = 'Mainnet';\n          break;\n        case 'production':\n          this.network = 'Testnet';\n          break;\n        default:\n          this.network = 'Mainnet';\n      }\n\n      window.EventBus.$on('node_id', (data) => {\n        this.node_id = data;\n      });\n    },\n    sockets: {\n      updateComplete() {\n        console.log('updated');\n      },\n    },\n    methods: {\n      onSubmit() {\n        // Fix types.\n        this.config.node_port = Number(this.config.node_port);\n        this.config.node_rpc_port = Number(this.config.node_rpc_port);\n        this.config.node_remote_control_port = Number(this.config.node_remote_control_port);\n        this.config.request_timeout = Number(this.config.request_timeout);\n        this.config.dc_holding_time_in_minutes = Number(this.config.dc_holding_time_in_minutes);\n        /* this.config.dc_litigation_interval_in_minutes = Number(this.config.dc_litigation_interval_in_minutes);\n        this.config.dh_max_holding_time_in_minutes = Number(this.config.dh_max_holding_time_in_minutes); */\n        this.config.dc_choose_time = Number(this.config.dc_choose_time);\n        this.config.remote_control_enabled = Boolean(this.config.remote_control_enabled);\n        this.config.verbose_logging = Boolean(this.config.verbose_logging);\n        this.config.control_port_enabled = Boolean(this.config.control_port_enabled);\n        this.config.send_logs_to_origintrail = Boolean(this.config.send_logs_to_origintrail);\n        this.$socket.emit('config-update', this.config);\n      },\n      handleChangeDh(value) {\n        // this.pricing = calculatePrice(config.blockchain.trac_price_in_eth, config.blockchain.price_factor, 180, 1);\n\n        if(value == 0 ) {\n          this.updateDcButton = false;\n          this.updateDhButton = true;\n          this.pricing_01mb_180days = 0;\n          this.pricing_1mb_180days = 0;\n          this.pricing_10mb_180days = 0;\n          this.pricing_10mb_730days = 0;\n        } else{\n          this.updateDhButton =false;\n          this.updateDcButton = true;\n          this.pricing_01mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 0.1));\n          this.pricing_1mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 1));\n          this.pricing_10mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 10));\n          this.pricing_10mb_730days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 730 * 10));\n        }\n      },\n      handleChangeDc(value) {\n        // this.pricing = calculatePrice(config.blockchain.trac_price_in_eth, config.blockchain.price_factor, 180, 1);\n\n         if(value == 0 ){\n           this.updateDcButton = true;\n           this.updateDhButton = false;\n           this.pricing_01mb_180days = 0;\n          this.pricing_1mb_180days = 0;\n          this.pricing_10mb_180days = 0;\n          this.pricing_10mb_730days = 0;\n        }else{\n          this.updateDhButton =true;\n          this.updateDcButton = false;\n           this.pricing_01mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dh * Math.sqrt(2 * 180 * 0.1));\n          this.pricing_1mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dc * Math.sqrt(2 * 180 * 1));\n          this.pricing_10mb_180days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dc * Math.sqrt(2 * 180 * 10));\n          this.pricing_10mb_730days = Math.round(2 * (0.00075 / this.config.blockchain.trac_price_in_eth) + this.config.blockchain.price_factor_dc * Math.sqrt(2 * 730 * 10));\n        }\n\n\n      },\n      calculatePrice(tracePrice, priceFactor, timeSpan, datasetSize) {\n        // eslint-disable-next-line max-len\n        return 2 * (0.00075 / tracePrice) + priceFactor * sqrt(2 * datasetSize * timeSpan / 1440);\n      },\n      checkDhPriceFactor() {\n        return this.config.blockchain.price_factor_dh == 0 || this.config.blockchain.price_factor_dc >= 0;\n      },\n      checkDcPriceFactor() {\n        return this.config.blockchain.price_factor_dc == 0 || this.config.blockchain.price_factor_dh >= 0;\n      },\n      addInput() {\n        this.config.network.remoteWhitelist.push('');\n      },\n      removeInput(item) {\n        if (this.config.network.remoteWhitelist.length === 1) {\n          return;\n        }\n        const index = this.config.network.remoteWhitelist.indexOf(item);\n        if (index !== -1) {\n          this.config.network.remoteWhitelist.splice(index, 1);\n        }\n      },\n      addInputNetwork() {\n        this.config.network.bootstraps.push('');\n      },\n      removeInputNetwork(item) {\n        if (this.config.network.bootstraps.length === 1) {\n          return;\n        }\n        const index = this.config.network.bootstraps.indexOf(item);\n        if (index !== -1) {\n          this.config.network.bootstraps.splice(index, 1);\n        }\n      }\n    }\n  };\n</script>\n<style>\n    #app {\n        height: 100vh;\n        background-color: #f6f6f6;\n    }\n\n    .houston-btn {\n        border-radius: 4px;\n        background-color: #1d2667;\n        border: 1px solid #1d2667;\n    }\n\n    .el-menu {\n        background-color: #f6f6f6;\n    }\n\n    .el-menu-item.hover {\n        background-color: #f6f6f6;\n    }\n\n    .text-left {\n        text-align: left;\n    }\n\n    .container-fluid {\n        padding: 0 88px;\n        width: 100%;\n    }\n\n    .section-headline {\n        font-family: Roboto;\n        font-size: 46px;\n        font-weight: bold;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: 1.17;\n        letter-spacing: normal;\n        color: #131415;\n        margin-bottom: 20px;\n    }\n</style>\n<style scoped>\n    .formula-img {\n        margin-top: 20px;\n    }\n\n    .lead-paragraph {\n        font-size: 20px;\n        font-weight: normal;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: 1.6;\n        letter-spacing: normal;\n        color: #131415;\n    }\n\n\n    .small-p {\n        font-family: Roboto;\n        font-size: 14px;\n        font-weight: normal;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: 1.43;\n        letter-spacing: normal;\n        color: #0a1a2d;\n    }\n\n    .splitter {\n        margin-bottom: 40px;\n    }\n\n    .price-in-trac {\n        font-size: 20px;\n        font-weight: 800;\n        color: #1d2667;\n    }\n\n    .el-icon-plus {\n        color: #1d2667;\n        font-weight: 900;\n        font-size: 14px;\n        bottom: -2px;\n        position: relative;\n    }\n\n    li {\n        height: 25px;\n        font-size: 14px;\n        line-height: 23px;\n        color: #0a1a2d;\n    }\n\n    .add-left-padding {\n        padding-right: 16%;\n    }\n\n    h3.card-headline {\n        font-family: Roboto;\n        font-size: 28px;\n        font-weight: bold;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: 1.29;\n        letter-spacing: normal;\n        color: #131415;\n        margin-top: 0px;\n    }\n\n    .white-card {\n        border-radius: 4px;\n        box-shadow: 0 2px 4px 0 rgba(82, 97, 115, 0.2);\n        background-color: #ffffff;\n        border: 1px solid #dfdfdf;\n        padding: 20px;\n        width: 90%;\n    }\n\n    .label {\n        font-family: Roboto;\n        font-size: 14px;\n        font-weight: normal;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: 1;\n        letter-spacing: normal;\n        color: #131415;\n        margin-bottom: 10px;\n    }\n\n    .value-input {\n        margin-bottom: 30px;\n    }\n\n    .display-block {\n        display: block;\n    }\n\n    .container-fluid {\n        padding: 0 88px;\n    }\n\n    .text-left {\n        text-align: left;\n    }\n\n    a {\n        cursor: pointer;\n    }\n\n    .marginleft {\n        margin-left: 20px;\n\n    }\n\n\n    h2 {\n        margin-bottom: 30px;\n    }\n\n    .pop {\n        background-color: transparent;\n        border: none;\n    }\n\n    .pop:hover {\n        background-color: transparent !important;\n        border: none !important;\n    }\n\n    .pop:focus {\n        background-color: transparent !important;\n        border: none !important;\n        color: #ffffff;\n    }\n\n\n    .pop img {\n        width: 20px;\n    }\n\n    .pop img:hover {\n        opacity: 1;\n    }\n\n\n    .pop2 {\n        background-color: transparent;\n        border: none;\n    }\n\n    .pop2:hover {\n        background-color: transparent !important;\n        border: none !important;\n    }\n\n    .pop2:focus {\n        background-color: transparent !important;\n        border: none !important;\n        color: #ffffff;\n    }\n\n\n    .info-i2 {\n        position: absolute;\n        top: 7px;\n        width: 18px;\n        margin-left: 6px;\n    }\n\n    .pop2 img {\n        position: absolute;\n        top: 5px;\n        opacity: 0.5;\n        width: 20px;\n        margin-left: 6px;\n    }\n\n    .pop2 img:hover {\n        opacity: 1;\n    }\n\n\n    .input-p-bot {\n        padding-bottom: 20px;\n    }\n\n    .no-spin input[type=number]::-webkit-inner-spin-button,\n    .no-spin input[type=number]::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n\n    h2 {\n        margin-top: 40px;\n        color: #526173;\n        margin-bottom: 10px;\n    }\n\n    p {\n        font-size: 16px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: 30px;\n        letter-spacing: normal;\n        color: #526173;\n        margin-bottom: 30px;\n    }\n\n</style>\n"],"sourceRoot":"src/components"}]}